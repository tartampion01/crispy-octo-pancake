jQuery.browser={},jQuery.browser.msie=!1,jQuery.browser.version=0,navigator.userAgent.match(/MSIE ([0-9]+)\./)&&(jQuery.browser.msie=!0,jQuery.browser.version=RegExp.$1),function($){$.fn.jshowoff=function(settings){var config={animatePause:!0,autoPlay:!0,changeSpeed:600,controls:!0,controlText:{play:"Play",pause:"Pause",next:"Next",previous:"Previous"},controlZone:{PlayPauseItemID:"",PreviousItemID:"",NextItemID:""},effect:"fade",hoverPause:!0,links:!0,speed:3e3};return settings&&$.extend(!0,config,settings),config.speed<config.changeSpeed+20?alert("jShowOff: Make speed at least 20ms longer than changeSpeed; the fades aren't always right on time."):this.each(function(i){var $cont=$(this),gallery=$(this).children().remove(),timer="",counter=0,preloadedImg=[],howManyInstances=$(".jshowoff").length+1,uniqueClass="jshowoff-"+howManyInstances,cssClass=null!=config.cssClass?config.cssClass:"",fromButton=!1;$(document).ready(function(){for(var e=0;e<gallery.length;e++){var t=$("div[MultiZoneInnerId$='"+$(gallery[e]).attr("ItemID")+"']");0<t.length&&$cont.is("div[ItemID='"+t.attr("MultiZoneId")+"']")&&(t.attr("customIdx",e),t.click(function(){fromButton=!0,goToAndPause(parseInt($(this).attr("customIdx"))),fromButton=!1}),0==e&&jQuery.data(t[0],"SwapFunction")())}}),$cont.wrap('<div class="jshowoff '+uniqueClass+'" />');var $wrap=$("."+uniqueClass);$wrap.addClass(cssClass);var firstClone=$(gallery[0]).clone();function transitionTo(e,t){var n=counter;if(counter>=e.length||t>=e.length)counter=0;else if(counter<0||t<0){counter=e.length-1}else counter=t;if(!fromButton){var o=$("div[MultiZoneInnerId$='"+$(e[counter]).attr("ItemID")+"']");0<o.length&&$cont.is("div[ItemID='"+o.attr("MultiZoneId")+"']")&&jQuery.data(o[0],"SwapFunction")()}var s=$(e[counter]).clone();if("slideLeft"==config.effect){var i,a;function l(e){i="right"==e?"left":"right",a="left"==e?"left":"right"}l(n<=counter?"left":"right"),s.appendTo($cont).slideIt({direction:i,changeSpeed:config.changeSpeed}),1<$cont.children().length&&$cont.children().eq(0).css("position","absolute").slideIt({direction:a,showHide:"hide",changeSpeed:config.changeSpeed},function(){$(this).remove()})}else"fade"==config.effect?(s.appendTo($cont).hide().fadeIn(config.changeSpeed,function(){$.browser.msie&&this.style.removeAttribute("filter")}),1<$cont.children().length&&$cont.children().eq(0).css("position","absolute").fadeOut(config.changeSpeed,function(){$(this).remove()})):"none"==config.effect&&(s.appendTo($cont),1<$cont.children().length&&$cont.children().eq(0).css("position","absolute").remove());config.links&&($("."+uniqueClass+"-active").removeClass(uniqueClass+"-active jshowoff-active"),$("."+uniqueClass+"-slidelinks a").eq(counter).addClass(uniqueClass+"-active jshowoff-active"))}function resumePlay(e){isBusy()||("hover"!=e&&isPlaying()||(timer=setInterval(function(){play()},config.speed)),isPlaying()||$("."+uniqueClass+"-play").text(config.controlText.pause).removeClass("jshowoff-paused "+uniqueClass+"-paused"))}function play(e){isBusy()||(transitionTo(gallery,++counter),"hover"!=e&&isPlaying()||(timer=setInterval(function(){play()},config.speed)),isPlaying()||$("."+uniqueClass+"-play").text(config.controlText.pause).removeClass("jshowoff-paused "+uniqueClass+"-paused"))}function pause(e){clearInterval(timer),e&&"playBtn"!=e||$("."+uniqueClass+"-play").text(config.controlText.play).addClass("jshowoff-paused "+uniqueClass+"-paused"),config.animatePause&&"playBtn"==e&&$('<p class="'+uniqueClass+'-pausetext jshowoff-pausetext">'+config.controlText.pause+"</p>").css({fontSize:"62%",textAlign:"center",position:"absolute",top:"40%",lineHeight:"100%",width:"100%"}).appendTo($wrap).addClass(uniqueClass+"pauseText").animate({fontSize:"600%",top:"30%",opacity:0},{duration:500,complete:function(){$(this).remove()}})}function next(){goToAndPause(counter+1)}function previous(){goToAndPause(counter-1)}function isBusy(){return 1<$cont.children().length}function goToAndPause(e){$cont.children().stop(!0,!0),(counter!=e||counter==e&&isBusy())&&(isBusy()&&$cont.children().eq(0).remove(),transitionTo(gallery,e),pause())}function preloadImg(){$(gallery).each(function(e){$(this).find("img").each(function(e){preloadedImg[e]=$("<img>").attr("src",$(this).attr("src"))})})}function addControls(){$wrap.append('<p class="jshowoff-controls '+uniqueClass+'-controls"><a class="jshowoff-play '+uniqueClass+'-play" href="#null">'+config.controlText.pause+'</a> <a class="jshowoff-prev '+uniqueClass+'-prev" href="#null">'+config.controlText.previous+'</a> <a class="jshowoff-next '+uniqueClass+'-next" href="#null">'+config.controlText.next+"</a></p>"),$("."+uniqueClass+"-controls a").each(function(){$(this).hasClass("jshowoff-play")&&$(this).click(function(){return isPlaying()?pause("playBtn"):play(),!1}),$(this).hasClass("jshowoff-prev")&&$(this).click(function(){return previous(),!1}),$(this).hasClass("jshowoff-next")&&$(this).click(function(){return next(),!1})})}function addSlideLinks(){$wrap.append('<p class="jshowoff-slidelinks '+uniqueClass+'-slidelinks"></p>'),$.each(gallery,function(e,t){var n=""!=$(this).attr("title")&&void 0!==$(this).attr("title")?$(this).attr("title"):e+1;$('<a class="jshowoff-slidelink-'+e+" "+uniqueClass+"-slidelink-"+e+'" href="#null">'+n+"</a>").bind("click",{index:e},function(e){return goToAndPause(e.data.index),!1}).appendTo("."+uniqueClass+"-slidelinks")})}firstClone.appendTo($cont),null!=firstClone[0].getAttribute("MultiZoneContentScript")&&(eval(firstClone[0].getAttribute("MultiZoneContentScript")),firstClone.removeAttr("MultiZoneContentScript")),preloadImg(),config.controlZone.PreviousItemID&&$("[ItemID='"+config.controlZone.PreviousItemID+"']").click(function(){return previous(),!1}),config.controlZone.NextItemID&&$("[ItemID='"+config.controlZone.NextItemID+"']").click(function(){return next(),!1}),config.controls&&(addControls(),0==config.autoPlay&&$("."+uniqueClass+"-play").addClass(uniqueClass+"-paused jshowoff-paused").text(config.controlText.play)),config.links&&(addSlideLinks(),$("."+uniqueClass+"-slidelinks a").eq(0).addClass(uniqueClass+"-active jshowoff-active")),config.hoverPause&&$cont.hover(function(){isPlaying()&&pause("hover")},function(){isPlaying()&&resumePlay("hover")}),config.autoPlay&&1<gallery.length&&setTimeout(function(){timer=setInterval(function(){play()},config.speed)},100),gallery.length<1&&$("."+uniqueClass).append("<p>For jShowOff to work, the container element must have child elements.</p>")}),this}}(jQuery),function(a){a.fn.slideIt=function(e,s){var i={direction:"left",showHide:"show",changeSpeed:600};return e&&a.extend(i,e),this.each(function(e){a(this).css({left:"auto",right:"auto",top:"auto",bottom:"auto"});var t="left"==i.direction||"right"==i.direction?a(this).outerWidth():a(this).outerHeight(),n={};n.position="static"==a(this).css("position")?"relative":a(this).css("position"),n[i.direction]="show"==i.showHide?"-"+t+"px":0;var o={};o[i.direction]="show"==i.showHide?0:"-"+t+"px",a(this).css(n).animate(o,i.changeSpeed,s)}),this}}(jQuery);